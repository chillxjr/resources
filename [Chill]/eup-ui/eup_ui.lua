local outfits = {
    ['Male FIB Suit'] = {
        category = 'FIB',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 13, 1 },
            { 4, 11, 1 },
            { 5, 1, 1 },
            { 6, 11, 1 },
            { 7, 11, 1 },
            { 8, 11, 1 },
            { 9, 23, 1 },
            { 10, 1, 1 },
            { 11, 5, 1 },
        },
    },
    ['Female FIB Suit'] = {
        category = 'FIB',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 8, 1 },
            { 4, 4, 1 },
            { 5, 1, 1 },
            { 6, 30, 1 },
            { 7, 1, 1 },
            { 8, 65, 3 },
            { 9, 25, 1 },
            { 10, 1, 1 },
            { 11, 25, 1 },
        },
    },
    ['Male FIB Agent'] = {
        category = 'FIB',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 7, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 5, 1 },
            { 4, 11, 5 },
            { 5, 1, 1 },
            { 6, 11, 1 },
            { 7, 13, 13 },
            { 8, 17, 1 },
            { 9, 23, 1 },
            { 10, 1, 1 },
            { 11, 4, 4 },
        },
    },
    ['Female FIB Agent'] = {
        category = 'FIB',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 1, 1 },
            { 4, 4, 1 },
            { 5, 1, 1 },
            { 6, 30, 1 },
            { 7, 1, 1 },
            { 8, 10, 1 },
            { 9, 25, 1 },
            { 10, 1, 1 },
            { 11, 28, 1 },
        },
    },
    ['Male Government Suit'] = {
        category = 'FIB',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 13, 1 },
            { 4, 11, 1 },
            { 5, 1, 1 },
            { 6, 11, 1 },
            { 7, 116, 1 },
            { 8, 11, 1 },
            { 9, 1, 1 },
            { 10, 1, 1 },
            { 11, 11, 1 },
        },
    },
    ['Female Government Suit'] = {
        category = 'FIB',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 8, 1 },
            { 4, 38, 1 },
            { 5, 1, 1 },
            { 6, 30, 1 },
            { 7, 87, 1 },
            { 8, 39, 1 },
            { 9, 1, 1 },
            { 10, 1, 1 },
            { 11, 59, 1 },
        },
    },
    ['Male FIB Response'] = {
        category = 'FIB',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 5, 1 },
            { 4, 11, 5 },
            { 5, 49, 1 },
            { 6, 11, 1 },
            { 7, 9, 1 },
            { 8, 42, 4 },
            { 9, 20, 4 },
            { 10, 1, 1 },
            { 11, 4, 4 },
        },
    },
    ['Male FIB Windbreaker'] = {
        category = 'FIB',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 11, 5 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 13, 1 },
            { 4, 11, 5 },
            { 5, 1, 1 },
            { 6, 21, 1 },
            { 7, 7, 1 },
            { 8, 12, 4 },
            { 9, 21, 1 },
            { 10, 1, 1 },
            { 11, 36, 1 },
        },
    },
    ['Male FIB Police Uniform'] = {
        category = 'FIB',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 1, 1 },
            { 4, 48, 1 },
            { 5, 49, 1 },
            { 6, 55, 1 },
            { 7, 9, 1 },
            { 8, 38, 1 },
            { 9, 14, 1 },
            { 10, 1, 1 },
            { 11, 33, 1 },
        },
    }, 
    ['Male DOA Suit'] = {
        category = 'DOA',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 5, 1 },
            { 4, 11, 1 },
            { 5, 49, 1 },
            { 6, 11, 1 },
            { 7, 39, 9 },
            { 8, 11, 2 },
            { 9, 23, 3 },
            { 10, 1, 1 },
            { 11, 5, 1 },
        },
    },
    ['Male DOA Agent'] = {
        category = 'DOA',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 5, 1 },
            { 4, 11, 1 },
            { 5, 49, 1 },
            { 6, 11, 1 },
            { 7, 7, 1 },
            { 8, 81, 9 },
            { 9, 23, 3 },
            { 10, 1, 1 },
            { 11, 4, 2 },
        },
    },
    ['Female DOA Agent'] = {
        category = 'DOA',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 4, 1 },
            { 4, 4, 3 },
            { 5, 1, 1 },
            { 6, 30, 1 },
            { 7, 1, 1 },
            { 8, 40, 1 },
            { 9, 25, 3 },
            { 10, 1, 1 },
            { 11, 25, 5 },
        },
    },
    ['Male DOA Response'] = {
        category = 'DOA',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 1, 1 },
            { 4, 50, 4 },
            { 5, 49, 1 },
            { 6, 26, 1 },
            { 7, 2, 1 },
            { 8, 88, 1 },
            { 9, 8, 5 },
            { 10, 1, 1 },
            { 11, 3, 4 },
        },
    },
    ['Female DOA Operative'] = {
        category = 'DOA',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 15, 1 },
            { 4, 52, 5 },
            { 5, 1, 1 },
            { 6, 51, 1 },
            { 7, 7, 1 },
            { 8, 8, 1 },
            { 9, 24, 4 },
            { 10, 1, 1 },
            { 11, 15, 1 },
        },
    },
    ['Male DOA Windbreaker'] = {
        category = 'DOA',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 0, 0 },
            { 1, 0, 0 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 13, 1 },
            { 4, 11, 1 },
            { 5, 1, 1 },
            { 6, 11, 1 },
            { 7, 7, 1 },
            { 8, 12, 2 },
            { 9, 21, 4 },
            { 10, 1, 1 },
            { 11, 36, 3 },
        },
    },
    ['Male DOA SRT Uniform'] = {
        category = 'DOA',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 89, 1 },
            { 1, 23, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 97, 1 },
            { 4, 32, 3 },
            { 5, 49, 1 },
            { 6, 26, 1 },
            { 7, 111, 1 },
            { 8, 16, 1 },
            { 9, 28, 5 },
            { 10, 1, 1 },
            { 11, 50, 3 },
        },
    },
    ['Female DOA SRT Uniform'] = {
        category = 'DOA',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 88, 1 },
            { 1, 24, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 112, 1 },
            { 4, 31, 3 },
            { 5, 49, 1 },
            { 6, 26, 1 },
            { 7, 82, 1 },
            { 8, 16, 1 },
            { 9, 30, 5 },
            { 10, 1, 1 },
            { 11, 43, 3 },
        },
    },
    ['Male Sheriff Pilot Uniform'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 80, 1 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 97, 1 },
            { 4, 39, 3 },
            { 5, 49, 1 },
            { 6, 25, 1 },
            { 7, 9, 1 },
            { 8, 44, 2 },
            { 9, 1, 1 },
            { 10, 16, 2 },
            { 11, 66, 3 },
        },
    },
    ['Female Sheriff Pilot Uniform'] = {
        category = 'Sheriff',
        ped = 'mp_f_freemode_01',
        props = {
            { 0, 79, 1 },
            { 1, 14, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 37, 1 },
            { 4, 39, 3 },
            { 5, 49, 1 },
            { 6, 25, 1 },
            { 7, 9, 1 },
            { 8, 31, 2 },
            { 9, 1, 1 },
            { 10, 15, 2 },
            { 11, 60, 3 },
        },
    },
    ['Male Sheriff Riot Uniform'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 82, 3 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 },
            { 3, 31, 1 },
            { 4, 60, 2 },
            { 5, 49, 1 },
            { 6, 25, 1 },
            { 7, 2, 1 },
            { 8, 39, 2 },
            { 9, 13, 3 },
            { 10, 1, 1 },
            { 11, 76, 1 },
        },
    },
    
    ['Male Deputy'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 14, 1 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 5, 1 }, -- arms
            { 4, 26, 1 }, -- pants
            { 5, 49, 1 }, -- bags
            { 6, 52, 1 }, -- shoes
            { 7, 9, 1 }, -- neck
            { 8, 39, 2 }, -- undershirt
            { 9, 15, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 151, 1 }, -- shirt
        },
    },
    ['Male Sgt'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 14, 1 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 5, 1 }, -- arms
            { 4, 26, 1 }, -- pants
            { 5, 49, 1 }, -- bags
            { 6, 52, 1 }, -- shoes
            { 7, 9, 1 }, -- neck
            { 8, 39, 2 }, -- undershirt
            { 9, 15, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 151, 4 }, -- shirt
        },
    },
    ['Male Capt.'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 14, 1 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 5, 1 }, -- arms
            { 4, 26, 1 }, -- pants
            { 5, 49, 1 }, -- bags
            { 6, 52, 1 }, -- shoes
            { 7, 9, 1 }, -- neck
            { 8, 39, 2 }, -- undershirt
            { 9, 15, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 151, 6 }, -- shirt
        },
    },
    ['Duty Pouncer'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 14, 1 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 5, 1 }, -- arms
            { 4, 26, 1 }, -- pants
            { 5, 49, 1 }, -- bags
            { 6, 52, 1 }, -- shoes
            { 7, 9, 1 }, -- neck
            { 8, 39, 2 }, -- undershirt
            { 9, 15, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 151, 6 }, -- shirt
        },
    },
    ['Duty Chill'] = {
        category = 'Sheriff',
        ped = 'mp_m_freemode_01',
        props = {
            { 0, 14, 1 },
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 0, 0 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 5, 1 }, -- arms
            { 4, 26, 1 }, -- pants
            { 5, 49, 1 }, -- bags
            { 6, 52, 1 }, -- shoes
            { 7, 9, 1 }, -- neck
            { 8, 39, 2 }, -- undershirt
            { 9, 15, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 151, 10 }, -- shirt
        },
    },
    
    ['Male DOT Mechanic'] = {
        category = 'DOT',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 143, 25 }, --hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 30, 1 }, -- arms
            { 4, 39, 2 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 182, 1 }, -- undershirt
            { 9, 1, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 66, 2 }, -- shirt
        },
    },
    ['Male DOT Mechanic 2'] = {
        category = 'DOT',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 59, 3 }, --hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 31, 1 }, -- arms
            { 4, 103, 1 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 183, 1 }, -- undershirt
            { 9, 1, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 57, 1 }, -- shirt
        },
    },
    ['Paramedic'] = {
        category = 'EMS / Fire',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 84, 1 }, -- hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 86, 1 }, -- arms
            { 4, 23, 6 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 16, 1 }, -- undershirt
            { 9, 20, 6 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 191, 1 }, -- shirt
        },
    },
    ['Chief'] = {
        category = 'EMS / Fire',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 84, 1 }, -- hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 18, 1 }, -- arms
            { 4, 11, 1 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 16, 1 }, -- undershirt
            { 9, 3, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 201, 1 }, -- shirt
        },
    },
    ['Fire Turnouts'] = {
        category = 'EMS / Fire',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 46, 1 }, -- hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 17, 1 }, -- arms
            { 4, 121, 1 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 16, 1 }, -- undershirt
            { 9, 1, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 316, 1 }, -- shirt
        },
    },
    ['Fire Turnouts Chief'] = {
        category = 'EMS / Fire',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 46, 3 }, -- hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 17, 1 }, -- arms
            { 4, 121, 1 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 16, 1 }, -- undershirt
            { 9, 1, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 316, 1 }, -- shirt
        },
    },
    ['Fire Turnouts SCBA'] = {
        category = 'EMS / Fire',
        ped = 'mp_m_freemode_01', -- HOLY FUCKING SHIT, add one to these FROM the clothing editor
        props = {
            { 0, 46, 1 }, -- hat
            { 1, 1, 1 },
            { 2, 0, 0 },
            { 3, 4, 1 },
        },
        components = {
            { 1, 1, 1 }, -- body type / sex (index, article, style)
            { 3, 17, 1 }, -- arms
            { 4, 121, 1 }, -- pants
            { 5, 1, 1 }, -- bags
            { 6, 13, 7 }, -- shoes
            { 7, 1, 1 }, -- neck
            { 8, 69, 1 }, -- undershirt
            { 9, 1, 1 }, -- vest
            { 10, 1, 1 }, -- Decals
            { 11, 316, 1 }, -- shirt
        },
    },
    
    
}

local function setOutfit(outfit)
    local ped = PlayerPedId()

    RequestModel(outfit.ped)

    while not HasModelLoaded(outfit.ped) do
        Wait(0)
    end

    if GetEntityModel(ped) ~= GetHashKey(outfit.ped) then
        SetPlayerModel(PlayerId(), outfit.ped)
    end

    ped = PlayerPedId()

    for _, comp in ipairs(outfit.components) do
       SetPedComponentVariation(ped, comp[1], comp[2] - 1, comp[3] - 1, 0)
    end

    for _, comp in ipairs(outfit.props) do
        if comp[2] == 0 then
            ClearPedProp(ped, comp[1])
        else
            SetPedPropIndex(ped, comp[1], comp[2] - 1, comp[3] - 1, true)
        end
    end
end

local categoryOutfits = {}

for name, outfit in pairs(outfits) do
    if not categoryOutfits[outfit.category] then
        categoryOutfits[outfit.category] = {}
    end

    categoryOutfits[outfit.category][name] = outfit
end

local menuPool = NativeUI.CreatePool()
local mainMenu = NativeUI.CreateMenu('EUP FiveM', 'Pick your outfit!')

for name, list in pairs(categoryOutfits) do
    local subMenu = menuPool:AddSubMenu(mainMenu, name)

    for id, outfit in pairs(list) do
        outfit.item = NativeUI.CreateItem(id, 'Select this outfit.')
        subMenu:AddItem(outfit.item)
    end

    subMenu.OnItemSelect = function(sender, item, index)
        -- find the outfit
        for _, outfit in pairs(list) do
            if outfit.item == item then
                CreateThread(function()
                    setOutfit(outfit)
                end)
            end
        end
    end
end

menuPool:Add(mainMenu)

menuPool:RefreshIndex()

RegisterCommand('eup', function()
    mainMenu:Visible(not mainMenu:Visible())
end, false)

CreateThread(function()
    while true do
        Wait(0)

        menuPool:ProcessMenus()
    end
end)